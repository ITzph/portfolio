<div class="filter-wrapper">
  <portfolio-filter-by-tag
    [filterValue]="filterValue"
    [filterKey]="filterKey"
    (filterValueChange)="onFilterChange($event)"
  ></portfolio-filter-by-tag>
  <div class="flex-row">
    <portfolio-sort-by-property
      [order]="order"
      [orderBy]="orderBy"
      (orderChange)="onOrderChange($event)"
    ></portfolio-sort-by-property>
    <button
      mat-icon-button
      (click)="onResetFilter()"
      matTooltip="Reset filter"
      matTooltipPosition="left"
    >
      <mat-icon>refresh</mat-icon>
    </button>
  </div>
</div>

<ng-container *ngIf="filteredMemes.length > 0; else emptyList">
  <div class="memes-wrapper">
    <ng-container
      *ngFor="
        let meme of filteredMemes
          | paginate: { itemsPerPage: PAGE_SIZE_LIMIT, currentPage: currentPage };
        trackBy: memeTracker
      "
    >
      <div class="memes">
        <portfolio-photo-detail [meme]="meme"></portfolio-photo-detail>
      </div>
    </ng-container>

    <pagination-controls (pageChange)="onPageChange($event)"></pagination-controls>
  </div>
</ng-container>

<ng-template #emptyList>
  <portfolio-empty-list></portfolio-empty-list>
</ng-template>
